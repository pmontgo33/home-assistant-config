#################################################################
## Sensors
#################################################################

#  - platform: yr
  # - platform: pi_hole
#  - platform: plex
  - platform: systemmonitor
    resources:
      - type: disk_use_percent
      - type: memory_use_percent
      - type: processor_use
      - type: since_last_boot
 
  - platform: template
    sensors:
    
      house_mode:
        friendly_name: House Mode
        value_template: >
          {% if is_state('input_boolean.away_mode', 'on') %}
            Away
          {% elif is_state('input_boolean.sleep_mode', 'on') %}
            Sleep
          {% else %}
            Home
          {% endif %}  
        icon_template: >
          {% if is_state('input_boolean.away_mode', 'on') %}
            mdi:home-outline
          {% elif is_state('input_boolean.sleep_mode', 'on') %}
            mdi:sleep
          {% else %}
            mdi:home-account
          {% endif %}  
          
      
      upstairs_op_mode:
        value_template: '{{ states.climate.upstairs.attributes.operation_mode }}'
      downstairs_op_mode:
        value_template: '{{ states.climate.downstairs.attributes.operation_mode }}'
      
      # test_zone:
      #   value_template: '{{ states.group.all_devices.state }}'
      # living_room_temp:
      #   value_template: '{{ states.climate.upstairs.attributes.current_temperature }}'
        
  - platform: mqtt
    name: "Smoke Detector"
    state_topic: "home/safety/smoke_detector"
  
  ### WEATHER UNDERGROUND ###
  - platform: wunderground
    api_key: !secret wunderground_api_key
    monitored_conditions:
      - alerts
      - temp_f
      - feelslike_f
      - relative_humidity
      - precip_today_in
      - weather
      - wind_mph
      - precip_1d_in
      - precip_1d

  - platform: speedtest
    monitored_conditions:
      - ping
      - download
      - upload
